<title>ChannelSnapshots/LogicalClocksNew.html</title>

<!------------- Start Heading -------------------------------->
<!DOCTYPE html>

<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet"
href="https://www.w3schools.com/w3css/4/w3.css">

<link rel="stylesheet"
href="https://fonts.googleapis.com/css?family=Roboto">

<link rel="stylesheet"
href="https://www.w3schools.com/lib/w3-theme-blue.css">

<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
html,body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif;}
.w3-sidebar {
  z-index: 3;
  width: 250px;
  top: 43px;
  bottom: 0;
  height: inherit;
}
/* Thick blue border */
hr.new2 {
  border: 2px solid blue;
}
/* blue border */
hr.new1 {
  border: 2px solid blue;
}
</style>


<body>


<div class="w3-top">
<div class="w3-bar w3-theme w3-top w3-left-align w3-large">
  
  <a class="w3-bar-item w3-button w3-right w3-hide-large
  w3-hover-white w3-large w3-theme-l1"
  href="javascript:void(0)"
  onclick="w3_open()">
  <i class="fa fa-bars"></i></a>

  <a href="../index.html"
  class="w3-bar-item w3-button w3-hide-small w3-hover-white">
  Distributed Algorithms
  </a>

  <a href="../table_of_contents.html"
  class="w3-bar-item w3-button w3-hide-small w3-hover-white">
  Contents
  </a>

  <a href="../cross_reference.html"
  class="w3-bar-item w3-button w3-hide-small w3-hover-white">
  Index
  </a>
    
  </div>
  </div>
  
  <script id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
  
<div class="w3-row w3-padding-64">
<div class="w3-twothird w3-container">
  
  <!--------------------------------------------------------->
  <h2 class="w3-text-teal">Logical Clocks</h2>
  <!--------------------------------------------------------->
  
  <p class="w3-text-red">
  A logical clock algorithm assigns a value, called the logical time,
  to each step in a computation so that data flows from steps with
  smaller logical times to steps with higher logical times.
  And so all sequences of steps in ascending logical time are
  computations. 

  </p>

   
  <!-----------------------------------------------------------------------------> 
  <h4 class="w3-text-teal">The Problem</h4> 
  <!----------------------------------------------------------------------------->
  <h6 class="w3-text-teal">Data flows forward in logical time</h6>
  Design an algorithm that assigns a value, called <i>logical
  time</i>, to each step in a computation so that all data flows from
  steps at smaller logical times to steps at higher logical times.

  <p>
  For all steps \(e\) of a computation,
  let \(t(e)\) be a value assigned to step \(e\), all \(e\).
  Then \(t(e)\) is a logical time of \(e\), all \(e\), exactly
  when: 
   
  <hr class="new2">
  <p style="color:blue;">
  <h4 style="color:blue;">The Logical Time Property</h4>
  <p style="color:blue;">
  For all edges \((e, e')\) of the dataflow graph:
\(t(e) < t(e')\).
</p>
  <hr class="new2">

    <p>
  The standard definition is in terms of
  <a href="https://en.wikipedia.org/wiki/Logical_clock">
   causality</a> rather than data flow, but
  the definitions are equivalent with "step \(e\) causes step \(e'\)" as
  the same as "data flows from \(e\) to \(e'\)."

  <!---------------------------------------------------------->
  <h5 style="color:red;">Example: Logical Times of Steps</h5>
  <!---------------------------------------------------------->
  
  Figure 1 shows the dataflow graph of a computation with agents
  \(A, B, C\) and an step sequence \([0, 1, 2, \ldots, ]\).

  The numbers inside the vertices are the step ids which show the
  position of the step in the computation.

  The red numbers outside the steps are logical times assigned to
  steps.

  <p>
  Logical times are arbitrary provided
  every edge is directed from a lower to a higer logical time.
  <figure>
    <img src="Timelines/Timelines.020.jpeg" alt="Fig1" style="width:100%"> 
    <figcaption>Fig. 1: Logical Times of Steps: Edges Directed from
  Lower to Higher Logical Times</figcaption>
  </figure>

Verify that every edge in figure 1 is from an step with a lower
logical time to an step with a higher logical time.

 
  
<!-------------------------------------------------------->
<h3 class="w3-text-teal">A Logical Clock Algorithm</h3>
<!-------------------------------------------------------->
The following algorithm is suggested by the logical time property.

Let \(t(e)\) be the logical time assigned to step \(e\).

A message sent in an step \(e\) is assigned a timestamp \(t(e)\).

<hr class="new2">
<h5 style="color:blue;">Assigning Logical Times to Steps</h5>
<p style="color:blue;">
Let \(e'\) be the step immediately preceding an step \(e\) at an
agent, and let the timestamp of the message received in \(e\) be
\(T\).
<p style="color:blue;">
Set \(t(e)\) to be any value greater than max(t(e'), T).
<hr class="new2">

<p>
This rule ensures that (1) later steps at an agent have higher logical
times than earlier steps at that agent, and (2) a message is received
in a step with a higher logical time than the logical time of the step
in which the message is sent.
<p>
The correctness of the algorithm is self evident.


<h4 class="w3-text-teal">Next</h4>
Logical clocks are used to record global snapshots
<a href="LogicalClocksSnapshots.html">as described here.</a>




<!--Start Footer--------------------------------------->

    <hr class="new1">
      <p>K. Mani Chandy,
      Emeritus Simon Ramo Professor,
      California Institute of Technology</p>
    
</footer>
    


<!-- END MAIN -->
</div>

<script>
// Get the Sidebar
var mySidebar = document.getElementById("mySidebar");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidebar, and add overlay effect
function w3_open() {
  if (mySidebar.style.display === 'block') {
    mySidebar.style.display = 'none';
    overlayBg.style.display = "none";
  } else {
    mySidebar.style.display = 'block';
    overlayBg.style.display = "block";
  }
}

// Close the sidebar with the close button
function w3_close() {
  mySidebar.style.display = "none";
  overlayBg.style.display = "none";
}
</script>

</body>
</html>
