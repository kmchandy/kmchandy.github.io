<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Graphs and Safety</title>
        <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Some  -->
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
      </script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <a class="nav-item navbar-text" href="#about"> CS142. </a>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#about">Home</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#experience">Lectures</a></li>
                        <!--<ul class = "navbar-nav dropdown-submenu">
                            <li><a class="dropdown-item" href="#">1A Graphs & Paths</a></li>
                            <li><a class="dropdown-item" href="#">1B Reachability</a></li>
                            <li><a class="dropdown-item" href="#">1C Vertex Sets</a></li>
                        </ul> -->
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#education">Assignments</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#education">Explore</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#skills">About</a></li>
                </ul>
            </div>
        </nav>
        <!-- Page Content-->
        <div class="container-fluid p-0">
            <!-- About-->
            <section class="resume-section" id="about">
                <div class="row">
                    <div class="col-lg-2 col-med-2 col-sm-1"></div>
                    <div class="col-lg-8 col-med-8 col-sm-10">

 <h2>Safety</h2>
  
  <p>
  
  <b>Outline</b>
  
  This module introduces all the concepts that we use in this course
		      to prove that systems are safe. These concepts
		      <i>next</i>, <i>always</i> and <i>stable</i>
		      are described in terms of
		      <a
  href="https://en.wikipedia.org/wiki/Directed_graph">directed
  graphs</a>.

		      
  <h4>Representing a System by a Graph</h4>

  We represent the states and state transitions of a system by a
  <a href="https://en.wikipedia.org/wiki/Directed_graph">directed graph</a>
  in which vertices represent states and edges
  represent  transitions. A system trajectory is a path through the
  graph.
		      </p>

		      

  When we design algorithms we will prove that the system always
		      remains in safe states.
		      In terms of graphs, this means showing that all
		      paths from vertices representing initial states
		      only visit vertices representing safe states.
  </p>

		      <h4 id=Graph2>Graphs</h4>
		      Let \(G = (V, \rightarrow) \) be a <a
		      href="https://en.wikipedia.org/wiki/Directed_graph">
		      <b>directed graph </b> </a> where \(V\) is the
		      set of vertices and \(\rightarrow \) is a binary
		      relation on vertices that specifies the set of
		      edges: 
		      \(v \rightarrow w\) indicates that there
		      is an edge from vertex \(v\) to vertex \(w\) in
		      the graph.
		      </p>


		      <p>
		      <!----------------------------------------------------------->
		      <!----------------------------------------------------------->
<a name="Example"></a>
  <h4>Examples</h4>

  <figure>
      <a href="#"><img class="img-fluid mx-auto d-block" src="GraphExample.jpg" alt=""></a>
      <figcaption class="figure-caption text-center">Fig. 2 - An Example of a Graph.</figcaption>
  </figure>

  <!--<figure>
  <img src="GraphExample.jpg" alt="Fig2" style="width:100%">
  <figcaption>Fig.2 - An Example of a Graph</figcaption>
		      </figure> -->

		      <p style="color:red;"><b>Example: vertices</b></p>
\( V = \{0, 1, 2, 3, 4, 5, 6, 7 \} \)

		     

<p style="color:red;"><b>Examples of edges</b></p>
\( 0 \rightarrow 1, \; 0 \rightarrow 2, \;  0 \rightarrow 3, \; 0 \rightarrow 7, \;
\; 1 \rightarrow 7, \; 2 \rightarrow 4\)
\(2 \rightarrow 5 , \; 3 \rightarrow 5, \;  3 \rightarrow 6, \; 4 \rightarrow 5, \; 5
\rightarrow 4, \; 6 \rightarrow 6, \; 7 \rightarrow 6\)
</p>



		      <h4>Paths</h4>
		      We use the notation
		      \(\stackrel{*}{\rightarrow}\)
		      to denote the transitive closure of
		      \(\rightarrow\).
		      So, \(v \stackrel{*}{\rightarrow} w\) holds exactly
		      when there exists a path from \(v\) to \(w\) in
the graph. We assume that there is a path, with zero hops, from each
vertex to itself:
\(\forall v: \; v \rightarrow v \)

<p style="color:red;"><b>Example of paths</b></p>
\(
1 \stackrel{*}{\rightarrow} 1, \; 1 \stackrel{*}{\rightarrow} 7, \;
7 \stackrel{*}{\rightarrow} 7, \; 7 \stackrel{*}{\rightarrow} 6, 
  \; 1 \stackrel{*}{\rightarrow} 6,
  \)


		      <p id=Graph3> Convention:
		      We use upper case \(P, Q, R, X, Y\) to refer to sets of vertices,
		      and lower case \(u, v, w \) to  refer to individual
		      vertices.
		      All formulae containing these terms are
implicitly universally qualified.
</p>

<p>
                      We extend the relation \(\rightarrow\)
to sets of vertices as follows.
      \(P \rightarrow Q\) holds exactly when every edge from every vertex in
\(P\) ends at a vertex in \(Q\).
</p>
<p>
\(
\forall v \in P: (v \rightarrow w) \; \Rightarrow \; (w \in Q)
\)


<p style="color:red;"><b>Example of \(P \rightarrow Q\)</b></p>
\(
\{2, 3\} \rightarrow \{4, 5, 6\}
\)
  Explanation: Every outgoing edge from vertices \(2\) and \(3\)
  terminate at vertices in \(\{4, 5, 6\}\).
  
<h3>Next and Always</h3>

\(N\), read as "<b>next</b>", and \(A\), read as "<b>always</b>" are
functions from vertex sets to vertex sets.
</p>

<p>
      \(v\) is in \(N(Y)\) exactly when every single hop from \(v\)
      ends at a vertex in \(Y\). 
<br>
\(v\) is in \(A(Y)\) exactly when every path from \(v\) ends at 
a vertex in \(Y\).
</p>
      
      <p>
      \(
      v \in N(Y) \; \equiv \; \forall w: (v \rightarrow w) \Rightarrow
      ( w \in Y) 
      \)
<br>
      \(
      v \in A(Y) \; \equiv \;
      \forall w:  (v \stackrel{*}{\rightarrow} w) \Rightarrow
      ( w \in Y) 
      \)
</p>


<p style="color:red;"><b>Example of Next</b></p>
\(
  N(\{0, 1, 2, 3\}) = \{0\}
  \)
  <br>
  Explanation: Every edge from \(0\) terminates at vertices in \(\{0,
  1, 2, 3\}\), and so \(0\) is in \(N(\{0, 1, 2, 3\})\).
  Every vertex \(v\)
  other than \(0\) has an outgoing edge that terminates at a vertex outside \(\{0,
  1, 2, 3\}\), 
  and so these vertices are not 
in \(N(\{0, 1, 2, 3\}\).


<p style="color:red;"><b>Example of Always</b></p>

  \(
  A(\{0, 1, 3, 6, 7\}) = \{1, 6, 7\}
  \)
  <br>
  Explanation: The only edge from vertex \(6\) is \(6 \rightarrow
  6\). So, all paths from vertex \(6\) visit only vertex \(6\) which
  is in the set \(\{0, 1, 3, 6, 7\}\). Therefore \(6\) is in
  \(A(\{0, 1, 3, 6, 7\})\).
  <p>
  The only edge from vertex \(7\) is 
  \(7 \rightarrow 6\).
  So, all paths from vertex \(7\) visit only vertices \(6\) and \(7\),
  both of which
  are in the set \(\{0, 1, 3, 6, 7\}\).
  Therefore \(7\) is in
  \(A(\{0, 1, 3, 6, 7\})\).
  By the same argument, all paths from vertex \(1\) visit only
  vertices \(1\), \(6\) and \(7\), all of which are in set \(\{0, 1,
  3, 6, 7\}\), and so \(1\) is in \(A(\{0, 1, 3, 6, 7\})\).
  <p>
  Why isn't \(0\) in \(A(\{0, 1, 3, 6, 7\})\)? Because there is a path
  from \(0\) to \(2\) which is not in \(\{0, 1, 3, 6, 7\}\).
  Similarly \(3\) is not in \(A(\{0, 1, 3, 6, 7\})\) because of paths
  from \(3\) to \(5\).
  <p>
  Every vertex \(v\) that is not in \(\{0, 1, 3, 6, 7\}\) has a path
  from \(v\) to \(v\), and so these vertices are not in \(A(\{0, 1, 3,
  6, 7\})\). 





<h4>stable</h4>
<b>stable</b> is a function from sets of vertices to the Booleans.
\(stable(P)\) holds exactly when every edge from a vertex in \(P\) is
to a vertex in \(P\).
</p>

<p>
\(
stable(P) \; \equiv \; (P \rightarrow P)
\)
</p>
<p>
Therefore \(P\) is stable exactly when there are no paths from
vertices in \(P\) to vertices outside \(P\).

<p style="color:red;"><b>Example of Stable</b></p>
\(
\textrm{stable}(\{4, 5\})
\)
<br>
Explanation: Every outgoing edge from vertex \(4\) is to vertex \(5\)
which is in set \(\{4, 5\}\), and every 
outgoing edge from vertex \(5\) is to vertex \(4\)
which is in set \(\{4, 5\}\).

<h3>Summary</h3>
We will use \(\rightarrow\) as the central concept in reasoning about
safety. We will use <i>always</i>, <i>next</i> and <i>stable</i> to specify
systems. You now know all the concepts that we use to prove that
systems are safe.
</p>

<!---------------------------------------------------------------------->
<!---------------------------------------------------------------------->
<a href="LabeledGraph.html">
<h4 style="color:green;">Next module:
		System Progress</h4></a>

		<p>
		<a href="Chapter2_Organization.html"><b>Previous module:
		Chapter Organization</b></a>


<p>
<!---------------------------------------------------------------------->
<h4 style="color:green;">Modules to Explore</h4>
<!---------------------------------------------------------------------->

<!---------------------------------------------------------------------->
		<a href="GraphRunningExample.html">
  <p style="color:green;">
<b>Modules that Explore more Examples</b> </p> </a>

<!---------------------------------------------------------------------->
<a href="SafetyProperties.html">
<p style="color:green;">
<b>Modules that Explore Formal Methods: Safety Properties</b></p></a>
This module is a collection of formulae relating the concepts
		<i>next</i>, <i>always</i>, <i>stable</i> and \(\rightarrow\).

<!---------------------------------------------------------------------->
<a href="GraphPicturesOfBasicConcepts.html">
  <p style="color:green;">
  <b>Explore Diagrams: Pictorial representations of basic
		concepts</b></p> </a>
		
<!---------------------------------------------------------------------->
		<a href="GraphExampleSafeFileAccess.html">
  <p style="color:green;">
  <b>Explore Why Study This? An example of a graph representation of a distributed
		system</b> </p> </a>



<!---------------------------------------------------------------------->
<!---------------------------------------------------------------------->
<a name="SelfTest"></a>
<!-- Self Tests are Here-->
<hr>
<a href="#"><img class="img-fluid mx-auto d-block" id="icon"  src="../img/pencil.jpg" alt=""></a>
<h3 class="text-center"> Self-Test </h3>
<! ----- div class = "text-center">
  
<figure>
  <img src="Graph.jpg" alt="Fig1" style="width:100%">
  <figcaption>Fig.2 - An Example Graph.</figcaption>
</figure>

  For the graph of Fig. 2, what are the following:
  </p>
  <p>
  \(
  N(X), A(X)
  \)
  </p>
  for the following values of \(X\)?
  
  <ol>
    <li>
    \(
    \{2\}
    \)
    </li>
    <li>
    \(
    \{2, 3\}
    \)
    </li>
    <li>
    \(
    \{2, 3, 4, 5\}
    \)
    </li>
    <li>
    \(
    \{0, 1, 2\}
    \)
    </li>
   </ol>
  
  Are the following formulae correct for the graph of Fig. 1?
   <ol>
     <li>
  <p class="ex1">
\(\{3, 4, 5 \}  \rightarrow \{3, 4, 5\}\)
  </p>
     </li>
  <li>
  <p class="ex1">
  \(\{0, 3 \} \rightarrow  \; \{1, 4 \}\)
  </p>
  </li>
  
  <li>
  <p class="ex1">
  \( \{0, 3 \} \rightarrow  \; \{1, 2, 5 \} \)
  </p>
  </li>
     <li>
     <p class="ex1">
     \(\{2, 3 \} \rightarrow  \; \{1, 3, 4, 5 \}\)
     </li>
     <li>
     <p class="ex1">
     \(  \{3, 4, 5 \}  \rightarrow \{2, 3, 4, 5\}  \)
     </p>
     </li>
     
     <li>
     <p class="ex1">
     \(  \{3, 4, 5 \}  \rightarrow \{4, 5\}  \)
     </p>
     </li>
   </ol>
   <a href="GraphSolutionsToSelfTests.html">Solutions.</a>
 </div>

                    <hr>    
                    <div class="col-lg-2 col-med-2 col-sm-1"></div>
                    
                          
                    <!-- Force next columns to break to new line -->
                    <!--<div class="w-100"></div>
                          
                    <div class="col-6 col-sm-3">.col-6 .col-sm-3</div>
                    <div class="col-6 col-sm-3">.col-6 .col-sm-3</div>-->
                </div>
            </section>
        <hr class="m-0" />
        
                <!--<div class="resume-section-content">
                    <h1 class="mb-0">
                        CS 142
                        <span class="text-primary">Distributed Systems</span>
                    </h1>
                    <div class="subheading mb-4">
                        Course Instructor: Mani Chandy, Instructional Designer: Karena Cai                    </div>
                    <h3 class="mb-3">
                        Course Prerequisites
                    </h3>
                    <p> </p>
                    <h3 class="mb-3">
                        Course Overview
                    </h3>
                    <p class="lead mb-5">This course is about distributed algorithms. You will learn...</p> -->
                    <!--<div class="social-icons">
                        <a class="social-icon" href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a class="social-icon" href="#"><i class="fab fa-github"></i></a>
                        <a class="social-icon" href="#"><i class="fab fa-twitter"></i></a>
                        <a class="social-icon" href="#"><i class="fab fa-facebook-f"></i></a>
                    </div> -->
                <!--</div>


        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
