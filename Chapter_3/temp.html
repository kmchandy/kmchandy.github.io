<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>LeadsToProperties</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
<style> p.ex1 {margin-left: 50px;} </style>
<style type="text/css">.mw { max-width:22em }

.div1 {
  width: 360px;
  border: 3px solid green;
  padding: 1px;
  margin: 2px;
}

.div2 {
width: 360px;
border: 1px solid red;
padding: 1px;
margin: 2px;
background-color: lightyellow;
}

.div3 {
width: 360px;
border: 1px solid black;
padding: 1px;
margin: 2px;
background-color: lightblue;
}


</style>
</head>
<body>
<div class="mw">

  <h1>Leads-To and Eventually</h1>  
  
  <p>
  
  <b>Outline</b>
  
  This module introduces the concepts of <i>leads-to</i> and
  <i>eventually</i> that we use to specify that systems
  progress toward their goals.

  <h2>Leads-To</h2>
  Leads to is a relation on vertex sets.
  The symbol \(\leadsto\) is used for "leads to." 
  </p>
  <p>
  For a directed graph \(G\) and a set \(F\) of fair paths:
  \(X \leadsto Y\) holds exactly when every fair path from every vertex in
  \(X\) visits a vertex in \(Y\).
  </p>

  <p>
  For a path \(p\), let \(p_{i}\) be the \(i\)-th vertex on
  the path, for \(i \geq 0\).
  </p>

  <p>
  \(
  X \leadsto Y \; \equiv \; \forall p \in F: (p_{i} \in X)
  \Rightarrow \exists j \geq i: (p_{j} \in Y)
  \)
  </p>

  <p>
  Therefore:
  </p>
  <p>
  \(
  X \leadsto \overline{X} \; \equiv \; transient(X)
  \)
  </p>
  <p>
  So, \(X \leadsto \overline{X}\) implies that \(\overline{X}\) is visited
  infinitely often by all fair paths.
  </p>
  

  <h2>Eventually E</h2>
  We define a function \(E\) from vertex sets to vertex sets as
  follows. A vertex \(v\) is in \(E(X)\) exactly when all fair paths
  from \(v\) visit \(X\).
  

  <p>
  \(
  v \in E(X) \; \equiv \; v \leadsto X
  \)
  </p>
  
  <p>
  So \(E(X)\) is the weakest \(Y\) such that \(Y \leadsto X\).
  </p>

  <!---------------------------------------------->
  <!---------------------------------------------->
  <!---------------------------------------------->
  <h2>Properties of \(\leadsto\)</h2>
  Next, we list a few properties of \(\leadsto\) which follow directly
  from its definition.

<h4>Inclusion</h4>
\(
(X \subseteq Y) \; \Rightarrow (X \leadsto Y)
\)
  </p>

<p>
Proof outline. From the left-hand side of the implication:
<br>
\(\forall p: p_{0} \in X \; \Rightarrow \;p_{0} \in Y\).


<!---------------------------------------------->

<h4>Single Step</h4>
\(
(X  \rightarrow  Y) \; \Rightarrow \; (X  \leadsto Y)
\)
  </p>

  <p>
Proof outline. From the left-hand side of the implication:
<br>
  \(\forall p: p_{0} \in X \; \Rightarrow \; p_{1} \in Y\).
  


<!---------------------------------------------->

<h4>Transitivity</h4>
\(
(X \leadsto Y) \wedge (Y \leadsto Z) \; \Rightarrow \; (X \leadsto Z) 
\)
  </p>

<figure>
  <img src="LeadsToPropertiesTransitive.jpg" alt="Fig2" style="width:100%">
  <figcaption>Fig.2 - Transitive</figcaption>
  </figure>
  </p>
  <p>
Proof outline. The left-hand side implies:
<br>
  For every path \(p\): 
  </p>
  <p>
  \(
  p_{0} \in X \; \Rightarrow \; (\exists i: p_{i} \in Y) \;
  \Rightarrow \; (\exists j \geq i: p_{j} \in Z)
  \)
  </p>


<!---------------------------------------------->

<h4>Strengthen Left Side, Weaken Right Side</h4>
\((X \subseteq X') \wedge (X' \leadsto Y') \wedge(Y' \subseteq Y)) \;
    \Rightarrow \; X \leadsto Z \)
  </p>

  <p>
  The proof follows from inclusion and transitivity.
  </p>

<!---------------------------------------------->

<h4> Union Left Side </h4>
\(
(X  \leadsto  Z) \wedge (Y  \leadsto  Z) \quad
    \equiv \quad (X \cup Y) \leadsto  Z
\)
  </p>

<p>
Proof follows directly from the definition.


<!---------------------------------------------->

    <h4> Infinitely Often Property</h4>
    \(
    (X \rightarrow (X \cup Y)) \wedge (X \leadsto \overline{X})
    \quad \Rightarrow \quad (X \leadsto Y)
    \)
    </p>


  <p>
  <b>Proof</b>:
  \(X \; \rightarrow \; (X \cup Y) \) implies that every
  fair path from a vertex in \(X\) either (1) remains in \(X\) forever
  or (2) visits a vertex in \(Y\). 
  But, \(X \leadsto \overline{X}\) implies that the first case is not
  possible. 
  </p>

  



  <!------------------------------------------->
  <h2>Properties of Eventually</h2>
  These properties follow directly from the definition:
  </p>
  <p>
  <b>Monotonicity</b>:
  </p>
  <p>
  \(
  X \subseteq Y \; \Rightarrow \; E(X) \subseteq E(Y)
  \)
  </p>
  <p>
  <b>Transitivity</b>:
  </p>
  <p>
  \(
  (X \subseteq E(Y)) \wedge (Y \subseteq E(Z)) \; \Rightarrow \; X \subseteq E(Z)
  \)
  </p>
  <p>
  <b>Idempotence</b>:
  </p>
  <p>
  \(
  E(E(X)) = E(X)
  \)
  </p>


  
<!----------------------------------------------------------->
<!----------------------------------------------------------->
<!----------------------------------------------------------->
  <h2 style="color:red;">Examples</h2>
  
  <figure>
  <img src="GraphProgress.jpg" alt="Fig1" style="width:100%">
  <figcaption>Fig.1 - An Example of a Graph</figcaption>
  </figure>

<p>
In this example, we are given that:
</p>
<p>
\(
\{3, 4\} \leadsto \overline{\{3, 4\}}
\)
</p>
and 
<p>
\(
\{8, 9\} \leadsto \overline{\{8, 9\}}
\)
</p>


<h4>Prove \(\{8\} \leadsto \{8, 9\} \)</h4>
<b>Proof</b>:
  Follows from <i>inclusion</i>.
  </p>


<h4>Prove
\(
\{8, 9\} \leadsto \{1, 2\}
  \)
  </h4>
<b>Proof</b>:
From the graph structure we are given:
</p>
<p class="ex1">
\(
\{8, 9\} \; \rightarrow \; \{1, 2, 8, 9\}
\)
</p>
We are given: \(\{8, 9\} \leadsto \overline{\{8, 9\}})\).
<p>
The result follows from the <i>properties of infinitely often</i> with
\(X = \{8, 9\} \) and \(Y = \{1, 2\} \).
</p>

<h4>Prove
\(\{8\} \leadsto \{1, 2\} \)
  </h4>
</p>
<p>
<b>Proof</b>:
We showed in the previous examples
<p class="ex1">
\(
\{8\} \; \leadsto \; \{8, 9\}  \; \leadsto \; \{1, 2\}
\)
</p>
<p>
The result follows from transitivity.
</p>


<h4>Prove
\(\{10\} \leadsto \{1, 2\} \)
  </h4>
</p>
<p>
<b>Proof</b>:
From the graph structure:
<p class="ex1">
\(
\{10\} \; \rightarrow \; \{8, 9\}
\)
</p>
<p>
From the <i>single step condition</i>:
<p class="ex1">
\(
\{10\} \leadsto \{8, 9\}
\)
  </p>
  <p>
  We showed earlier that:
  </p>
  <p class="ex1">
\(
\{8, 9\} \leadsto \{1, 2\}
\)
  </p>
  
<p>
The result follows from transitivity.
</p>

<!---------------------------------->
<h4>Prove
\(
\{3, 4\} \leadsto \{0\}
\)
</h4>
<b>Proof</b>: 
</p>
<p>
From the graph, we are given:
</p>
\(
\{3, 4\} \rightarrow \{0, 3, 4\}
\)
</p>
<p>
We are given \(\{3, 4\}  \leadsto \overline{\{3, 4\}}\).
The result follows from the infinitely often property.
</p>

<!---------------------------------->
<h4>Prove
\(
\{6\} \leadsto \{0\}
\)
</h4>
<b>Proof</b>: 
</p>
<p>
From single step: \(\{6\} \leadsto \{5\} \leadsto \{3, 4\} \).
<br>
We showed earlier:
<br>
\(
\{3, 4\} \leadsto \{0\}
\)
<br>
The result now follows from transitivity.
</p>


<h4>Prove
\(
\{6, 8\} \leadsto \{0, 1, 2\}
\)
</h4>
<b>Proof</b>: We proved earlier that:
<p class="ex1">
\(
\{6\} \leadsto \{0\}
\)
</p>

Weakening right side of this formula:
<p class="ex1">
\(
\{6\} \leadsto \{0, 1, 2\}
\)
</p>
</p>

<p>
Similarly
<p class="ex1">
\(
\{8\} \leadsto \{0, 1, 2\}
\)
</p>
</p>

<p>
The result follows from the above two equations and the <i>union of
left side </i> property.
</p>



<h4>Prove
\(
\{7\} \leadsto \{6, 8\}
\)
</h4>

<b>Proof</b>: Follows from the <i>single step condition</i>.
</p>


<h4>Prove
\(
\{7\} \leadsto \{0, 1, 2\}
\)
</h4>
<b>Proof</b>:
We showed earlier that:
<p class="ex1">
\(\{7\} \leadsto \{6, 8\} \leadsto \{0, 1, 2\}\)
</p>
<p>
The result follows from <i>transitivity</i>.
</p>

  Here are examples of \(E\) that follow directly from the \(\leadsto\)
  properties.
  <ol>
    <li>
    \(
    E(\{1, 2\}) = \{1, 2, 8, 9, 10\}
    \)
    </li>
    <li>
    \(
    E(\{0\}) = \{0, 3, 4, 5, 6\}
    \)
    </li>
    <li>
    \(
    E(\{0, 1, 2\}) = V
    \)
    where \(V\) is the set of all vertices.
    </li>
    <li>
    \(
    E(\{8\}) = \{8\}
    \)
    </li>
    <li>
    \(
    E(\{9\}) = \{9, 10\}
    \)
    </li>
  </ol>




<!----------------------------------------------------------->
<!----------------------------------------------------------->
<!----------------------------------------------------------->

<div class="div2">
  <h2>4. Self Tests</h2>

  Use the leads-to properties to prove or disprove the following formula for
  example 3.
  </p>
  <ol>
    <li>
  <p>
  \(
  \{5\} \leadsto \{6\}
  \)
    </p>
    </li>
    
    <li>
  <p>
  \(
  \{7\} \leadsto \{0, 8, 10\}
  \)
    </p>
    </li>

    <li>
  <p>
  \(
  \{4, 9\} \leadsto \{1, 2, 6, 7\}
  \)
    </p>
    </li>
    </ol>

  
  
  Prove the following formulae:
  <ol>
    <li> \(  (X \subseteq Y) \wedge (Y \leadsto \overline{Y}) \;
  \Rightarrow \; (X \leadsto \overline{X}) \) </li>
    <li> \(  (X \leadsto X') \wedge (Y \leadsto Y') \; \Rightarrow \;
  \)
  <br>
  \((X \cup Y) \leadsto (X' \cup Y') \) </li>
  <li>
  \(
  (X \subseteq Y) \wedge (Y \leadsto Y') \wedge (Y \subseteq Z) \; \Rightarrow
  \)
  <br>
  \(
  X \leadsto Z
  \)
  </li>
</ol>
</p>
<p>
Are the following formula correct? Give a counter example or prove the
formula.
</p>
<ol>
  <li>

\(
(X \leadsto Y) \wedge (X \leadsto Z) \; \Rightarrow \; X \leadsto (Y
\cap Z)
\)
  </li>

  <li>
\(
(X \leadsto Z) \vee (Y \leadsto Z) \; \Rightarrow \; (X \cup Y) \leadsto Z
\)
  </li>

  <p>
  Prove that the properties - inclusion, transitivity, strengthen left
  side, weaken right side, and union left side - also hold for the
  path relation \(\stackrel{*}{\rightarrow}\).

</div>

<h2>Conclusion</h2>
Given a graph and a set of infinitely-often vertex sets, you know how to
use proof rules to compute the \(\leadsto\) relation.
</p>


<a href="ComposingFunctions.html">
<p style="color:red;">
<b>
Next: Composition</b> The next module shows how functions and relations can
be coupled together.

</p>
</a>
   
  </div>
</body>
</html>