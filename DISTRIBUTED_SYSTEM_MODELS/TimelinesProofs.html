<title>DistributedSystemModels/TimelinesProofs.html</title>

<!------------- Start Heading -------------------------------->
<!DOCTYPE html>

<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet"
href="https://www.w3schools.com/w3css/4/w3.css">

<link rel="stylesheet"
href="https://fonts.googleapis.com/css?family=Roboto">

<link rel="stylesheet"
href="https://www.w3schools.com/lib/w3-theme-blue.css">

<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
html,body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif;}
.w3-sidebar {
  z-index: 3;
  width: 250px;
  top: 43px;
  bottom: 0;
  height: inherit;
}
/* Thick blue border */
hr.new2 {
  border: 2px solid blue;
}
/* blue border */
hr.new1 {
  border: 2px solid blue;
}
</style>


<body>


<div class="w3-top">
<div class="w3-bar w3-theme w3-top w3-left-align w3-large">
  
  <a class="w3-bar-item w3-button w3-right w3-hide-large
  w3-hover-white w3-large w3-theme-l1"
  href="javascript:void(0)"
  onclick="w3_open()">
  <i class="fa fa-bars"></i></a>

  <a href="../index.html"
  class="w3-bar-item w3-button w3-hide-small w3-hover-white">
  Distributed Algorithms
  </a>

  <a href="../table_of_contents.html"
  class="w3-bar-item w3-button w3-hide-small w3-hover-white">
  Contents
  </a>

  <a href="../cross_reference.html"
  class="w3-bar-item w3-button w3-hide-small w3-hover-white">
  Index
  </a>
    
  </div>
  </div>
  
  <script id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
  
<div class="w3-row w3-padding-64">
<div class="w3-twothird w3-container">

  <!--------------------------------------------------------------->
  <h2 class="w3-text-teal">Past, Future and Cuts in Dataflow: Proofs</h2>
  <!--------------------------------------------------------------->
  
  
 <!--------------------------------------------------------------->
<h3 class="w3-text-teal">Properties of Cuts of Dataflow</h3>
<!--------------------------------------------------------------->

<!------------------------------------->
<h4 class="w3-text-teal">Dataflows of past events and
future events.</h4>

<p class="w3-text-teal">Theorem</p>
Given a cut <code>(past, future)</code>, there exists exists a
dataflow consisting only of <code>past</code> events, and there
exists exists a dataflow consisting only of <code>future</code>
events. 

<p class="w3-text-teal">Proof</p>
For a dataflow graph \(G\) with initial state \(S_{init}\) and final state
\(S_{fini}\) and a state \(S^{*}\) at a cut <code>(past,
future)</code>, we will prove that:
<ol>
  <li>
  There exists a dataflow graph \(H\) of
  <code>past</code> events with initial state  \(S_{init}\) and final
  state \(S^{*}\).
  </li>
  <li>
  There exists a dataflow graph \(H'\) of
  <code>future</code> events with initial state \(S*\) and final
  state \(S_{fini}\).
  </li>
</ol>


Every vertex of \(H\), apart from final vertices, is a vertex in
\(G\).
Every edge of \(H\), apart from edges to final vertices, is an edge in
\(G\).
Since every vertex in \(G\) represents an event so does every vertex
in \(H\).
<p>
The proof for the second part is similar.

Figure 1 illustrates the idea underlying the proof.


<h4 class="w3-text-teal">Computation in which Past precedes
Future.</h4>

<p class="w3-text-teal">Theorem</p>
Given a dataflow graph and a cut <code>(past, future)</code> of
  the graph, there exists a computation that starts at the initial
  state of the dataflow, executes the events in
<code>past</code> and then executes events in <code>future</code>.

<p class="w3-text-teal">Proof</p>
Every topological sort of a dataflow graph is a computation.

There exists at least one topological sort of a directed acyclic
graph.

From the previous theorem there is at least one computation consisting
of past events, and there is at least one computation consisting of
future events.

<p>
The final state of computations of past events is the initial state of
computations of future events.



<!----------------------------------------->
<h4 class="w3-text-teal">Initial Subsequences of Steps by Agents</h4>
For the remainder of this page we assume that agents are indexed \(i\)
for \(0 \leq i < N\).

We restrict attention to a cut 
<code>(past, future)</code> specified by a vector \(n\)
where <code>past</code> consists of the
first \(n[k]\) steps of agent \(k\).

Cuts specified by a vector, in this way, are used in taking global
snapshots. 



<!---------------------------------->
<p class="w3-text-teal">Theorem</p>
There exists a cut <code>(past, future)</code>
specified by a vector \(n\),
where <code>past</code>
consists of the first \(n[k]\) steps of agent \(k\),
exactly when:
<center>
<p style="color:blue;">
Every message received in <code>past</code> is sent in
<code>past</code>.
</p></center>
</p>


<!---------------------------------->
<p class="w3-text-teal">Proof</p>
<p>
If the \(i\)-th step of agent \(k\) is in <code>past</code> then
all steps of agent \(k\) before its \(i\)-th step are
also in <code>past</code>.

So, if all messages received in <code>past</code> are sent in
<code>past</code> then all paths in the dataflow to <code>past</code>
are from <code>past</code>.


<!----------------------------------------->
<h4 class="w3-text-teal">Numbers of Messages Sent and Received</h4>

For a channel \(c\), let \(c_{sent}\) and \(c_{rcvd}\) be the numbers
of messages sent and received along the channel at each point in a
computation.

<p class="w3-text-teal">Theorem</p>
There exists a cut <code>(past, future)</code>
specified by a vector \(n\)
where <code>past</code>
consists of the first \(n[k]\) steps of agent \(k\)
exactly when:
<center>
<p style="color:blue;">
For all channels \(c\): \(c_{sent} \geq c_{rcvd}\).
</p>
</center>
</p>


<!---------------------------------------->
<h5 class="w3-text-teal">Next</h5>
<!---------------------------------------->
The properties of cuts in dataflow, and the concepts of before/after,
past/future are central for 
<a href="../ChannelSnapshots/ChannelSnapshots.html">algorithms by
which agents record the 
states of distributed systems</a> discussed in the next chapter.

<!--Start Footer--------------------------------------->

    <hr class="new1">
      <p>K. Mani Chandy,
      Emeritus Simon Ramo Professor,
      California Institute of Technology</p>
    
</footer>
    


<!-- END MAIN -->
</div>

<script>
// Get the Sidebar
var mySidebar = document.getElementById("mySidebar");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidebar, and add overlay effect
function w3_open() {
  if (mySidebar.style.display === 'block') {
    mySidebar.style.display = 'none';
    overlayBg.style.display = "none";
  } else {
    mySidebar.style.display = 'block';
    overlayBg.style.display = "block";
  }
}

// Close the sidebar with the close button
function w3_close() {
  mySidebar.style.display = "none";
  overlayBg.style.display = "none";
}
</script>

</body>
</html>
