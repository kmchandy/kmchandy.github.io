<!DOCTYPE html>
<html lang="en">
<title>ProofsOfProgress</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
html,body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif;}
.w3-sidebar {
  z-index: 3;
  width: 250px;
  top: 43px;
  bottom: 0;
  height: inherit;
}
</style>
<body>

<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-theme w3-top w3-left-align w3-large">
    <a class="w3-bar-item w3-button w3-right w3-hide-large w3-hover-white w3-large w3-theme-l1" href="javascript:void(0)" onclick="w3_open()"><i class="fa fa-bars"></i></a>
    <a href="../index.html" class="w3-bar-item w3-button w3-hide-small
    w3-hover-white">About the Course</a>
    <a href="../table_of_contents.html" class="w3-bar-item w3-button w3-hide-small
    w3-hover-white">Table of Contents</a>
    <a href="../cross_reference.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Index</a>
  </div>
  </div>
 

<!-- Sidebar -->
<nav class="w3-sidebar w3-bar-block w3-collapse w3-large w3-theme-l5 w3-animate-left" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-right w3-xlarge w3-padding-large w3-hover-black w3-hide-large" title="Close Menu">
    <i class="fa fa-remove"></i>
  </a>

  <!-------------------------->
  <h3 class="w3-bar-item"><b>An Introduction to Distributed
  Algorithms</h3>
  
  <a class="w3-bar-item w3-button w3-hover-black"
  href="Overview.html">Chapter: Common Proof Patterns</a>
  
  <a class="w3-bar-item w3-button w3-hover-black"
  href="ProofsOfSafety.html">How to Prove Safety</a>

  <a class="w3-bar-item w3-button w3-hover-black"
  href="ProofsOfProgress.html">How to Prove Progresss</a>

  <a class="w3-bar-item w3-button w3-hover-black"
  href="Example.html">Example</a>

  <a class="w3-bar-item w3-button w3-hover-black"
  href="SelfTest.html">Self Test</a>

  <a class="w3-bar-item w3-button w3-hover-black"
  href="../Chapter_6/Overview.html">
  Next Chapter: Diffusing Computations</a> 
  
  <a class="w3-bar-item w3-button w3-hover-black"
  href="../Chapter_4/Overview.html">Previous Chapter:
  State Transition Systems</a>
  
</nav>


<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- Main content: shift it to the right by 250 pixels when the sidebar is visible -->
<div class="w3-main" style="margin-left:250px">
  
<script id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
  
  <div class="w3-row w3-padding-64">
  <div class="w3-twothird w3-container">

    
    <!------------------------------------------------------->
    <h1 class="w3-text-teal">How to Prove Progress</h1>
    
    <p>
    This module describes the methods that we often use to prove
    progress.
    </p>

    
    The key properties of \(\leadsto\),
    defined in terms of graphs, is given in the module
    <a href="../Chapter_3/Properties.html">which defines these
    properties in terms of graphs.</a> The proof outlines for these
    properties are given in the same module
    The same properties, defined in terms of
    predicates, are used in proving progress of systems.
    We first give the properties, and then a corollarly of the properties.
    The proof for the corollarly is
    given later in the module.
    </p>

    <h2 class="w3-text-teal">Key Properties for Proving Progress</h2>
    Next we give four key properties of \(leadsto\) that we often use
    to prove progress. 
    
    <h3 class="w3-text-teal">Atomic Property</h3>
    <p>
    \(
    \exists a \in F: \{P\} a \{\neg P\} \quad \Rightarrow \quad P
    \leadsto \neg P
    \)
    </p>

    <p>
    We call this property the atomic property because we deduce
    progress from a <i>single</i> action, independent of all other
    actions.
    </p>



    <h3 class="w3-text-teal">Basic Property</h3>
    <p>
    \(
    [P \rightarrow (P \vee Q)] \wedge
    (P \leadsto \neg P)
    \quad \Rightarrow \quad
    (P \leadsto Q)
    \)
    </p>

    <p>
    We call this property the basic property because it is used in
    almost every case. It called the PSP property in UNITY.
    </p>

    <h3 class="w3-text-teal">Transitivity</h3>
    <p>
    \(
    (P \leadsto Q) \wedge (Q \leadsto R)
    \; \Rightarrow \;
    (P \leadsto R) 
    \)
    </p>

    <p>
    We use transitivity in most examples, particularly by using
    variant functions - see the corollary later.
    </p>

    <h3 class="w3-text-teal">Conjunction of \(\leadsto\)</h3>
    <p class="w3-text-teal">
For stable sets \(Q\) and \(R\):
</p>
<p class="w3-text-teal">
\(
(P \leadsto Q) \wedge (P \leadsto R)
\; \Rightarrow \;
P \leadsto (Q \wedge R)
\)
</p>

    <p>
    <i>Notation</i>: 
    A <i>variant function</i> is a function from the states of a system to the
    integers or tuple of integers (or well-founded set) where the
function is bounded below. We use <a href="Chapter_0">variant
    functions</a>, or loop variants, to prove that executions of loops
    in sequential programs terminate. 
</p>

    <h3 class="w3-text-teal">
    Corollaries of Transitivity
    </h3>

<p>
Let \(f\) be a variant function, and let \(m\) be one of its possible
values. Then \(f \leq m\) is a predicate on states. 
</p>
<p>
We use the transitivity of \(\leadsto\) in most of the problems that
we study in this course. Next, we give a couple of examples of proof
rules that follow from transitivity. When the proof is self-evident,
we will use a formula based on transitivity without giving the proof.
</p>

<h4 class="w3-text-teal">Example us of Transitivity</h4>
Let \(N\) be a possible value of \(f\).
<p>
If:
<br>
\(
\forall m < N: \; (f = m) \; \leadsto \; (m < f \leq N)
\)
<br>
then:
<br>
\(\forall m \leq N: \; (f = m) \leadsto (f = N)\)
</p>
<p>
The proof, by induction on \(N-m\), is straightforward.
</p>

<h4 class="w3-text-teal">Corollary</h4>
<p>
If:
<br>
\(
\forall m:
P \wedge (f \leq m) \; \leadsto \; (P \wedge (f < m)) \vee Q
\)
<br>
then:
<br>
\(P \leadsto Q\)
</p>

<h3>Proof</h3>
<p>
We will prove that if the antecedent (the <i>if</i> clause)
holds then by induction on \(m\):
<br>
\(
P \wedge (f \leq m) \; \leadsto \; Q
\)
</p>

<h4>Base case</h4>
<p>
The result holds for \(m = LB\) where \(LB\) is the lower
bound for \(f\) because \(f < LB\) is False and so:
</p>
<p>
\(
(P \wedge (f < LB)) \vee Q \quad \equiv \quad Q
\)
</p>
<p>
and therefore:
</p>
<p>
\(
P \wedge (f \leq LB) \; \leadsto \; Q
\)
</p>


<h4>Induction step</h4>
<p>
Assume that the result holds for all \(m \leq
M\), i.e., assume:
</p>

<p>
\(
P \wedge (f \leq M+1) \; \leadsto \; P \wedge (f \leq M)) \vee Q
\)
</p>
<p>
By the induction assumption,
\(P \wedge (f \leq M) \; \leadsto \; Q\)
and by definition, \(Q \leadsto Q\), and from the 
<a href="../Formulae.html">disjunction of the left-hand side</a>:
</p>
<p>
\(
P \wedge (f \leq M)) \vee Q \quad \leadsto \quad Q
\)
</p>
<p>
The result now follows from the transitivity of \(\leadsto\).

<h4 class="w3-text-teal">Well-Founded Sets</h4>
The above result holds when the variant function is a function from
states to tuples of integers or to any
<a
href="https://en.wikipedia.org/wiki/Well-founded_relation">well-founded
set</a>. In most of the examples in this course, the well-founded set
is a total order which is bounded below; however, the set could be a partial
order. In our examples, the 
Tuples of integers are ordered in
<a
href="https://en.wikipedia.org/wiki/Lexicographic_order">lexicographic
order</a>. So, for example, \((1, 0) < (0, 10)\). An example of a
variant function whose value is a tuple of integers is given next. If
the well-founded set is a partial order, the set may not have a unique
lower bound, in which case the first corollary of transitivity treats
LB as any lower bound.
</p>




<h3 class="w3-text-teal">Steps in Proving Progress</h3>
We usually prove progress in the following steps:
<ol>
  <li>
  <b>Safety Properties</b>: First prove safety properties as we did in the previous
  module.
  </li>
  <li>
  <b>Atomic Progress Property</b>: Use the atomic property to prove
  results of the form \(P \leadsto \neg P\).
  </li>
  <li>
  <b>Basic Progress Property</b>: 
  Use safety properties that were proved on step 1 and \(P \leadsto
  \neg P\) properties proved on step 2, with the basic property, to
  prove results of the form \(P \leadsto Q\). When variant functions
  are used in the next step, this result is usually of the form:
  
  </p>
  <p>
  \(
P \wedge (f = N) \; \leadsto \; P \wedge (f < N)) \vee Q
  \)
  </p>
  where \(f\) is a variant function and \(N\) is any value that \(f\)
  can have, or of the form:
  </p>
  <p>
  \(
  \forall N > LB: (f = N) \; \leadsto \; (f < N)
  \)
  </p>
  
  </li>
  <li>
  <b>Transitivity of \(\leadsto\)</b>:
  Use the results of step 3 combined with either
  transitivity of \(\leadsto\) or its corollary to prove 
  the desired result. 
  </li>
</ol>
  




<h1 style="color:red;">Example</h1>
We use the example of the <i>earliest meeting time</i> given in the
module
<a href="RunningExample.html">A Running Example</a>.
</p>
<p>
This is an example of the four steps that we often use to prove
progress.
</p>
<p>
<p style="color:red;">Step 1: Safety Properties</p>

<p>
In the previous module we proved:
</p>

<p>
\(
(t = T \leq M) \; \rightarrow \; (T \leq t \leq M)
\)
</p>


<h3 style="color:red;">Examples of use of Atomic Property:
\(P \leadsto \neg P\) </h3>

<p style="color:red;">Step 2. Use the Atomic Progress Property</p>

Next, we prove:
</p>
<p>
\(
\forall T < M: \quad t = T \; \leadsto \; t \neq T
\)
</p>
<p>
Proof: We carry out this proof by using the atomic property and the
infinitely-often executions of actions \(a_{i,j}\) and \(b_{j}\).
From the Hoare triple for \(a_{i,j}\):
</p>
<p>
\(
\{(t = T) \wedge (T_{i} > T_{j})\} \; a_{i,j} \; \{t \neq T\}
\)
</p>
<p>
From the atomic property, and since action \(a_{i,j}\) is executed
infinitely often:
</p>
<p>
\(
(t = T) \wedge (T_{i} > T_{j}) \; \leadsto \; t \neq T
\)
</p>

<p>
Using similar arguments, since \(b_{j}\) is executed infinitely often:
</p>
<p>
\(
(t = T) \wedge (f_{j}(T_{j}) > T_{j}) \; \leadsto \; t \neq T
\)
</p>


<p>
Taking the disjunction of the left-hand sides and using the stability
results in the <a href="ProofsOfSafety.html">the
previous module</a> we get:  
</p>
<p>
\(
\forall T < M: \;
(t = T) \wedge \neg stable(t = T) \; \leadsto \; t \neq T 
\)
</p>

<p>
From the previous module:
</p>
<p>
\(\forall T < M: \; \neg stable(t = T)\).
</p>
<p>
From the above two formulae:
</p>
<p>
\(
\forall T < M: \; t = T \; \leadsto \; t \neq T
\)
</p>


<h3 style="color:red;">Example of use of the Basic Property</h3>
</p>

<p style="color:red;">Step 3: Use the Basic Progress Property</p>

<p>
Next, we prove:
</p>
<p>
\(
\forall T < M: (t = T) \; \leadsto \; (T < t \leq M)
\)
</p>

<p>
Proof:
In the <a href="ProofsOfSafety.html">previous module</a> we proved:
</p>
<p>
\((t = T \leq M) \; \rightarrow \; (T \leq t \leq M)\)
</p>

<p>
Therefore:
</p>
<p>
\(\forall T < M: \; (t = T) \; \rightarrow \; (t = T) \vee (T < t \leq M)\)
</p>
<p>
The result follows from the basic property.
</p>

<h3 style="color:red;">Example of the use of the Transitivity of
\(\leadsto\)</h3>

<p style="color:red;">Step 4: Use Transitivity</p>

<p>
Next, we prove that:
</p>

<p>
\(
(t = \emptyset) \; \leadsto \; (t = M)
\)
</p>
<p>
Proof: From transitivity of \(\leadsto\):
</p>
<p>
If:
<br>
\(
\forall t < M: \; (t = T) \; \leadsto \; (T < t \leq M)
\)
<br>
then:
<br>
\(\forall t \leq M: \; (t = T) \leadsto \; (t = M)\)
</p>
<p>
The result follows because \(\emptyset \leq M\),
</p>




<!---------------------------------------->
  <footer id="myFooter">

    <div class="w3-container w3-theme-l1">
      <h4>An Introduction to Distributed Algorithms by K. Mani Chandy,
      <br>
      Simon Ramo Professor, Emeritus, California Institute of Technology</h4>
    </div>
  </footer>


<!-- END MAIN -->
</div>

<script>
// Get the Sidebar
var mySidebar = document.getElementById("mySidebar");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidebar, and add overlay effect
function w3_open() {
  if (mySidebar.style.display === 'block') {
    mySidebar.style.display = 'none';
    overlayBg.style.display = "none";
  } else {
    mySidebar.style.display = 'block';
    overlayBg.style.display = "block";
  }
}

// Close the sidebar with the close button
function w3_close() {
  mySidebar.style.display = "none";
  overlayBg.style.display = "none";
}
</script>

</body>
</html>
