<!DOCTYPE html>
<html lang="en">
<title>GraphRunningExample</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
html,body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif;}
.w3-sidebar {
  z-index: 3;
  width: 250px;
  top: 43px;
  bottom: 0;
  height: inherit;
}
</style>
<body>

<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-theme w3-top w3-left-align w3-large">
    <a class="w3-bar-item w3-button w3-right w3-hide-large w3-hover-white w3-large w3-theme-l1" href="javascript:void(0)" onclick="w3_open()"><i class="fa fa-bars"></i></a>
    <a href="../index.html" class="w3-bar-item w3-button w3-hide-small
    w3-hover-white">About the Course</a>
    <a href="../table_of_contents.html" class="w3-bar-item w3-button w3-hide-small
    w3-hover-white">Table of Contents</a>
    <a href="../cross_reference.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Index</a>
  </div>
  </div>
 

<!-- Sidebar -->
<nav class="w3-sidebar w3-bar-block w3-collapse w3-large w3-theme-l5 w3-animate-left" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-right w3-xlarge w3-padding-large w3-hover-black w3-hide-large" title="Close Menu">
    <i class="fa fa-remove"></i>
  </a>
  
  <h3 class="w3-bar-item"><b>An Introduction to Distributed
  Algorithms</h3>
  <a class="w3-bar-item w3-button w3-hover-black"
  href="Safety.html">Safety</a>
  
  <a class="w3-bar-item w3-button w3-hover-black"
  href="GraphRunningExample.html">Examples</a>
  
  <a class="w3-bar-item w3-button w3-hover-black"
  href="GraphSelfTest.html">Self Tests</a>

  <a class="w3-bar-item w3-button w3-hover-black"
  href="GraphExercises.html">Exercises</a>

  <a class="w3-bar-item w3-button w3-hover-black"
  href="GraphExplorations.html">Explorations</a>
  
  <a class="w3-bar-item w3-button w3-hover-black"
  href="../Chapter_2/Progress.html">Next: Progress</a>
</nav>


<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- Main content: shift it to the right by 250 pixels when the sidebar is visible -->
<div class="w3-main" style="margin-left:250px">
  
<script id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
  
  <div class="w3-row w3-padding-64">
    <div class="w3-twothird w3-container">
      <h1 class="w3-text-teal">Examples</h1>
      This module has two parts:
      <ol>
	<li>
	examples of concepts defined in the main module on
	safety and
	</li>
	<li>
	an example of a distributed system that uses these concepts.
	</li>
</ol>

<h1 class="w3-text-teal">Part 1: Examples of Concepts in Graphs</h1>

  <figure>
      <img src="GraphExample.jpg" alt="Fig1" style="width:50%">
      <figcaption>Fig.1 - An Example of a Graph</figcaption>
  </figure>

<p><b>Vertices:
\( V = \{0, 1, 2, 3, 4, 5, 6, 7 \} \)
		      </b>
		     

<p><b>Examples of edges:</b>
\( 0 \rightarrow 1, \; 0 \rightarrow 2, \;  0 \rightarrow 3, \; 0 \rightarrow 7, \;
\; 1 \rightarrow 7, \; 2 \rightarrow 4\)
\(2 \rightarrow 5 , \; 3 \rightarrow 5, \;  3 \rightarrow 6, \; 4 \rightarrow 5, \; 5
\rightarrow 4, \; 7 \rightarrow 6\)



  <p id="Path"><b>Examples of paths:</b>
  \(
  1 \stackrel{*}{\rightarrow} 1, \; 1 \stackrel{*}{\rightarrow} 7,
  \; 1 \stackrel{*}{\rightarrow} 6,
  \)

  \(
  3 \stackrel{*}{\rightarrow} 3, \; 3 \stackrel{*}{\rightarrow} 4,
  \; 3 \stackrel{*}{\rightarrow} 5, \; 3 \stackrel{*}{\rightarrow} 6,
  \) 

  \(
  2 \stackrel{*}{\rightarrow} 2, \; 2 \stackrel{*}{\rightarrow} 4,
  \; 2 \stackrel{*}{\rightarrow} 5
  \)
		     



<p id="N"><b>Examples of next, \(N\)</b>
<ol>
  <li>
  \(
  N(\{0, 1, 2, 3\}) = \{0\}
  \)
  <br>
  Explanation: Every edge from \(0\) terminates at vertices in \(\{0,
  1, 2, 3\}\), and so \(0\) is in \(N(\{0, 1, 2, 3\})\).
  There exist outgoing edges from 
  vertices other than \(0\) that terminate at vertices outside \(\{0,
  1, 2, 3\}\), 
  and so these vertices are not 
  in \(N(\{0, 1, 2, 3\}\). 
  </li>
  <li>
  \(
  N(\{0, 1, 7\} = \{1\}
  \)
  <br>
  Explanation: The only edge from \(1\) terminates at \(7\) which is
  in \(\{0, 1, 7\}\). Therefore, \(1\) is in \(N(\{0, 1, 7\})\).
  There exist outgoing edges from all vertices other than \(1\) that
  terminate at vertices outside \(\{0, 1, 7\}\), and so these vertices
  are not in \(N(\{0, 1, 7\})\).
  </li>
  <li>
  \(
  N(\{4, 5, 6\}) = \{2, 3, 4, 5, 6, 7\}
  \)
  <br>
  Explanation: The outgoing edge from vertices \(2, 3, 4, 5, 6, 7\) terminate
  at vertices in set \(\{4, 5, 6\}\) and so these vertices are in
  \(N(\{4, 5,6\})\). Vertices \(0\) and \(1\) have an
  outgoing edge that terminates at a
  vertex that is not in \(\{4, 5, 6\}\); so these vertices are not in
  \(N(\{4, 5,6\})\).
  </li>
  
  <li>
  \(
  N(\{4, 5\}) = \{2, 4, 5\}
  \)
  <br>
  Explanation: The outgoing edges from vertices \(2, 4, 5\) terminate
  at vertices in \(\{4, 5\}\) and so these vertices are in
  \(N(\{4, 5\})\).
  The vertices that are not in \(2, 4,
  5\) have at least one outgoing edge that does not terminate at a
  vertex in \(\{4, 5\}\), and so these vertices are not in \(N(\{4, 5\})\).
  </li>
  <li>
  \(
  N(\{5\}) = \{4\}
  \)
  <br>
  Explanation: Vertex \(4\) has a single outgoing edge which
  terminates at \(5\) and so \(4\) is in \(N(\{5\})\). All the
  vertices other than \(4\) have have at least one outgoing edge that
  does not terminate at \(5\), and so these vertices  are not in
  \(N(\{5\})\). 
  </li>
</ol>



<p id="A"><b>Examples of always, \(A\)</b>
<ol>
  <li>
  \(
  A(\{0, 1, 3, 6, 7\}) = \{1, 6, 7\}
  \)
  <br>
  Explanation: The only edge from vertex \(6\) is \(6 \rightarrow
  6\). So, all paths from vertex \(6\) visit only vertex \(6\) which
  is in the set \(\{0, 1, 3, 6, 7\}\). Therefore \(6\) is in
  \(A(\{0, 1, 3, 6, 7\})\).
  <p>
  The only edge from vertex \(7\) is 
  \(7 \rightarrow 6\).
  So, all paths from vertex \(7\) visit only vertices \(6\) and \(7\),
  both of which
  are in the set \(\{0, 1, 3, 6, 7\}\).
  Therefore \(7\) is in
  \(A(\{0, 1, 3, 6, 7\})\).
  By the same argument, all paths from vertex \(1\) visit only
  vertices \(1\), \(6\) and \(7\), all of which are in set \(\{0, 1,
  3, 6, 7\}\), and so \(1\) is in \(A(\{0, 1, 3, 6, 7\})\).
  <p>
  Why isn't \(0\) in \(A(\{0, 1, 3, 6, 7\})\)? Because there is a path
  from \(0\) to \(2\) which is not in \(\{0, 1, 3, 6, 7\}\).
  Similarly \(3\) is not in \(A(\{0, 1, 3, 6, 7\})\) because of paths
  from \(3\) to \(5\).
  <p>
  Every vertex \(v\) that is not in \(\{0, 1, 3, 6, 7\}\) has a path
  from \(v\) to \(v\), and so \(v\) is not in \(A(\{0, 1, 3, 6, 7\})\).
  </li>
  <li>
  \(
  A(\{0, 1, 2, 3, 4, 5\} = \{2, 4, 5\}
  \)
  <br>
  Explanation: All paths from \(4\) and \(5\) visit only \(4\) and
  \(5\) which are in \(\{0, 1, 2, 3, 4, 5\}\), and therefore both
  \(4\) and \(5\) are in \(A(\{0, 1, 2, 3, 4, 5\}\). All paths from
  \(2\) visit only \(2\), \(4\) and \(5\), and so \(2\) is also in
  \(A(\{0, 1, 2, 3, 4, 5\}\).
  <p>
  Vertices \(0\), \(1\) and \(3\) have paths to \(6\) and therefore
  they are not in \(A(\{0, 1, 2, 3, 4, 5\}\).
  <p>
  Every vertex \(v\) that is not in \(\{0, 1, 2, 3, 4, 5\}\) has a path
  from \(v\) to \(v\), and so \(v\) is not in \(A(\{0, 1, 2, 3, 4, 5\})\).
  </li>
  </li>
  <li>
  \(
  A(\{1, 2, 3, 4, 5, 6, 7\} = \{1, 2, 3, 4, 5, 6, 7\}
  \)
  </li>
</ol>


<!------------------------------------------------------->
<p id="rightarrow"><b>Examples of \(P \rightarrow Q\)</b>

<ol>
  <li>
  \(
  \{2, 3\} \rightarrow \{4, 5, 6\}
  \)
  <br>
  Explanation: Every outgoing edge from vertices \(2\) and \(3\)
  terminate at vertices in \(\{4, 5, 6\}\).
  </li>
  <li>
  \(
  \{2, 3\} \rightarrow \{3, 4, 5, 6, 7\}
  \)
  <br>
  Explanation: Every outgoing edge from vertices \(2\) and \(3\)
  terminate at vertices in \(\{4, 5, 6\}\), and so also
  terminate at vertices in \(\{3, 4, 5, 6, 7\}\).
  </li>
  <li>
  \(
  \{5\} \rightarrow \{4, 6\}
  \)
  <br>
  Explanation: Every outgoing edge from vertex \(5\)
  terminates at vertex \(4\) which is in \(\{4, 6\}\).
  </li>
  <li>
  \(
  \{5, 7\} \rightarrow \{4, 6\}
  \)
  <br>
  Explanation: Every outgoing edge from vertices \(5\) and \(7\)
  terminate at vertices in \(\{4, 6\}\).
  </li>
  <li>
  \(
  \{5, 7\} \rightarrow \{3, 4, 5, 6\}
  \)
  <br>
  Explanation: Every outgoing edge from vertices \(5\) and \(7\)
  terminate at vertices in \(\{4, 6\}\) and so terminate at vertices
  in \(\{3, 4, 5, 6\}\).
  </li>
</ol>


<!------------------------------------------------------->
<p><b>Examples of NOT \(P \rightarrow Q\)</b></p>
<p>
\(P \rightarrow Q\) is a boolean, i.e. its value is either True or
False. So we can define its negation (\(\neg\)).
</p>


<ol>
  <li>
  \(
  \neg(\{2, 3\} \rightarrow \{2, 3, 4, 5\})
  \)
  <br>
  Explanation: There is an edge from \(3\) to \(6\), and vertex \(6\) is
  not in set \(\{2, 3, 4, 5\}\).
  </li>
  <li>
  \(
  \neg(\{5, 7\} \rightarrow \{3, 5, 6, 7\})
  \)
  <br>
  Explanation: There is an edge from \(5\) to \(4\), and vertex \(4\) is
  not in set \(\{3, 5, 6, 7\}\).
  </li>
</ol>


<h1 class="w3-text-teal">Part 2: Example of a System Represented by a
    Graph: Sharing Files Safely</h1>

    <h3 class="w3-text-teal">The Problem</h3>
  We want to develop an algorithm by which agents in a distributed
  system share access to a set of files. The safety specification is that each file
  is modified by at most one agent at a time, and no agent reads a
    file while it is being modified by another agent.
    The progress specification is that an agent waiting for access to
    a subset of the files gets access eventually.
    </p>

    <h3 class="w3-text-teal">Vertex: State</h3>
    <p>
    The state of the
  system is specified by the states of the agents and the states of
    message channels. An agent's state specifies whether the agent is
    waiting for access to a set of files, the subset of files that the
    agent has secured, whether it has requests from other agents for
    access to files, and so on. The state of a channel is the sequence
    of messages in transit through the channel. Each system state is
    represented by a single vertex in the graph representation.
    </p>

    <h3 class="w3-text-teal">Edge: State Transition or Action</h3>
    <p>
    An edge in the graph represents an action taken by an agent that
    causes a transition of the system state. An example of an action
    is an agent sending a request on a channel. Many actions can be
    executed in a state because any agent can execute an action.
    </p>

    <h3 class="w3-text-teal">Safety Proof Obligation</h3>
    <p>
    We are required to identify the set of initial vertices (states)
    and the edges of the graph (i.e., actions), such that all vertices
    reachable from the initial vertices, including the initial
    vertices themselves, are safe.
    </p>

    <h3 class="w3-text-teal">Progress Proof Obligation</h3>
    <p>
    We are required to prove that if the system is at a vertex \(s\) in which
    any agent \(a\) is waiting for a set of files then the system will
    follow a path from \(s\) to a vertex \(s'\) in which agent
    \(a\) has access to the files for which it is waiting.
    </p>
    


<!----------------------------------------------------------------->
  <footer id="myFooter">

    <div class="w3-container w3-theme-l1">
      <h4>An Introduction to Distributed Algorithms by K. Mani Chandy,
      <br>
      Simon Ramo Professor, Emeritus, California Institute of Technology</h4>
    </div>
  </footer>




<!-- END MAIN -->
</div>

<script>
// Get the Sidebar
var mySidebar = document.getElementById("mySidebar");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidebar, and add overlay effect
function w3_open() {
  if (mySidebar.style.display === 'block') {
    mySidebar.style.display = 'none';
    overlayBg.style.display = "none";
  } else {
    mySidebar.style.display = 'block';
    overlayBg.style.display = "block";
  }
}

// Close the sidebar with the close button
function w3_close() {
  mySidebar.style.display = "none";
  overlayBg.style.display = "none";
}
</script>

</body>
</html>
